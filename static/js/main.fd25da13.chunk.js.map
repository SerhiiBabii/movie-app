{"version":3,"sources":["components/Header/Login/ModalLoginHOC.js","components/Header/Login/InputField.js","api/api.js","components/HOC/AppContextHOC.js","components/Header/Login/ModalLogin.js","components/Header/Login/Login.js","components/Header/Login/UserMenu.js","components/Header/Header.js","components/Filters/FilterItem.js","components/Filters/FilterSelect.js","components/Filters/Genres.js","components/Filters/GenresHOC.js","components/Filters/PageButtons.js","constants/filters.js","helpers/helpers.js","components/Filters/Filters.js","components/Movies/MovieItem.js","components/Movies/MovieItemHOC.js","components/Movies/MoviesList.js","components/Movies/MoviesHOC.js","components/Pages/MoviesPage/MoviesPage.js","components/Pages/MoviePage/MovieCredits/Actor.js","components/Pages/MoviePage/Spinner/Spinner.js","components/Pages/MoviePage/MovieCredits/MovieCredits.js","components/Pages/MoviePage/MovieVideos/MovieVideos.js","components/Pages/MoviePage/MovieDetail/DetailTable.js","components/Pages/MoviePage/MovieDetail/MovieDetail.js","components/Pages/MoviePage/NoMatch/NoMatch.js","components/Pages/MoviePage/MovieTabs.js","components/Pages/MoviePage/MoviePage.js","components/App.js","index.js"],"names":["Component","InputField","_ref","title","type","id","placeholder","name","value","error","onChange","onBlur","React","createElement","className","htmlFor","API_URL","API_KEY_3","fetchApi","url","option","arguments","length","undefined","Promise","resolve","reject","fetch","then","response","status","json","data","catch","CallApi","_classCallCheck","this","_createClass","key","_options$params","params","queryStringParams","_objectSpread","api_key","concat","queryString","stringify","mode","headers","Content-type","options","_options$params2","body","method","Accept","JSON","_options$params3","_options$params4","HOC_AppContextHOC","_React$Component","AppContextHOC","_possibleConstructorReturn","_getPrototypeOf","apply","_inherits","_this","AppContext","Consumer","context","Object","assign","props","userName","password","repeatPassword","submitting","errors","handleBlur","onSubmit","onClick","disabled","base","ModalLoginHOC","_getPrototypeOf2","_len","args","Array","_key","call","state","_isMounted","e","target","setState","prevState","_defineProperty","validateFields","keys","test","preventDefault","onLogIn","get","post","username","request_token","updateSessionId","session_id","user","updateUser","toggleModal","console","log","status_message","_this$state","Modal","isOpen","showModal","toggle","ModalBody","ModalLogin","_Component","UserMenu","dropdownOpen","toggleDropdown","_this$props","onLogOut","Dropdown","DropdownToggle","tag","data-toggle","aria-expanded","width","src","avatar","gravatar","hash","alt","DropdownMenu","right","DropdownItem","Header","href","Login","FilterItem","filterItems","map","item","FilterSelect","filterName","handleSelect","GenresHOC","genres","getGenres","link","prevProps","_this2","filters","genre","addGenre","PageButtons","page","total_pages","changePage","Fragment","FILTER_YEARS","startYear","endYear","filterYear","i","push","getFilterYear","Filters","_this$props$filters","sort_by","year","resetFilters","Genres","MoviesItemHOC","favorite","watchlist","movie_id","handleMark","getAttribute","mark","media_type","media_id","getMovieFavorite","getMovieWatchlist","checkMark","targetName","movieId","results","forEach","itemResults","poster","backdrop_path","poster_path","defaultPoster","MovieItemHOC","style","Link","to","vote_average","MoviesList","movies","movie","MovieItem","defaulProps","MoviesHOC","changedSortBy","filter","currentTotalPages","_filter$genre","language","primary_release_year","with_genres","cookies","Cookies","MoviesPage","user_id","Actor","actor","image","profile_path","Spinner","Credits","actors","loaded","getActors","cast","updateActors","match","activeTab","snippet","Snippet","actorsList","ListActors","cast_id","Video","video","getVideo","updateVideo","videoList","ViewVideo","height","DetailTable","details","Col","Table","scope","release_date","runtime","original_language","production_countries","budget","revenue","production_companies","Detail","getDetails","updateDetails","detailsList","NoMatch","MovieTabs","tab","Nav","tabs","NavItem","NavLink","classnames","active","Switch","Route","path","component","MoviePage","_this$state$movie","original_title","overview","substring","createContext","initialState","App","updateUserId","set","maxAge","delete","remove","toggleGenre","array","index","findIndex","el","_toConsumableArray","slice","arr","includes","Router","Provider","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fd25da13.chunk.js","sourcesContent":["import React from \"react\";\r\nimport CallApi from \"../../../api/api\";\r\n\r\nexport default Component =>\r\n  class ModalLoginHOC extends React.Component {\r\n    state = {\r\n      userName: \"\",\r\n      password: \"\",\r\n      repeatPassword: \"\",\r\n      submitting: false,\r\n      errors: {}\r\n    };\r\n\r\n    _isMounted = false;\r\n\r\n    onChange = e => {\r\n      const name = e.target.name;\r\n      const value = e.target.value;\r\n      this.setState(prevState => ({\r\n        ...prevState,\r\n        [name]: value,\r\n        errors: {\r\n          ...prevState.errors,\r\n          base: null,\r\n          [name]: null\r\n        }\r\n      }));\r\n    };\r\n\r\n    handleBlur = e => {\r\n      const errors = this.validateFields(e);\r\n      if (Object.keys(errors).length > 0) {\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          errors: {\r\n            ...prevState.errors,\r\n            ...errors\r\n          }\r\n        }));\r\n      }\r\n    };\r\n\r\n    validateFields = e => {\r\n      const errors = {};\r\n      const patternUserName = /^[a-zA-Z0-9]{6,}$/;\r\n      const patternPassword = /(?=^.{8,}$)(?=.*\\d)(?=.*[a-zA-Z]).*$/;\r\n      if (\r\n        (e.target.id === \"username\" || e.target.type === \"submit\") &&\r\n        !patternUserName.test(this.state.userName)\r\n      ) {\r\n        errors.userName = \"Invalid username\";\r\n      }\r\n      if (\r\n        (e.target.id === \"password\" || e.target.type === \"submit\") &&\r\n        !patternPassword.test(this.state.password)\r\n      ) {\r\n        errors.password = \"Invalid password\";\r\n      }\r\n      if (\r\n        (e.target.id === \"repeatPassword\" || e.target.type === \"submit\") &&\r\n        this.state.password !== this.state.repeatPassword\r\n      ) {\r\n        errors.repeatPassword = \"Must be equal password\";\r\n      }\r\n      return errors;\r\n    };\r\n\r\n    onSubmit = e => {\r\n      e.preventDefault();\r\n      const errors = this.validateFields(e);\r\n      if (Object.keys(errors).length > 0) {\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          errors: {\r\n            ...prevState.errors,\r\n            ...errors\r\n          }\r\n        }));\r\n      } else {\r\n        this.onLogIn();\r\n      }\r\n    };\r\n\r\n    onLogIn = () => {\r\n      this.setState({\r\n        ...this.state,\r\n        submitting: true\r\n      });\r\n\r\n      CallApi.get(\"/authentication/token/new\")\r\n        .then(data => {\r\n          return CallApi.post(\"/authentication/token/validate_with_login\", {\r\n            body: {\r\n              username: this.state.userName,\r\n              password: this.state.password,\r\n              request_token: data.request_token\r\n            }\r\n          });\r\n        })\r\n        .then(data => {\r\n          return CallApi.post(\"/authentication/session/new\", {\r\n            body: {\r\n              request_token: data.request_token\r\n            }\r\n          });\r\n        })\r\n        .then(data => {\r\n          this.props.updateSessionId(data.session_id);\r\n          return CallApi.get(\"/account\", {\r\n            params: {\r\n              session_id: data.session_id\r\n            }\r\n          });\r\n        })\r\n        .then(user => {\r\n          this.props.updateUser(user);\r\n          this.props.toggleModal();\r\n          if (this._isMounted) {\r\n            this.setState({\r\n              ...this.state,\r\n              submitting: false\r\n            });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(\"error\", error);\r\n          this.setState({\r\n            ...this.state,\r\n            submitting: false,\r\n            errors: {\r\n              base: error.status_message\r\n            }\r\n          });\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n      this._isMounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n    }\r\n\r\n    render() {\r\n      const {\r\n        userName,\r\n        password,\r\n        repeatPassword,\r\n        submitting,\r\n        errors\r\n      } = this.state;\r\n      return (\r\n        <Component\r\n          userName={userName}\r\n          password={password}\r\n          repeatPassword={repeatPassword}\r\n          submitting={submitting}\r\n          onChange={this.onChange}\r\n          handleBlur={this.handleBlur}\r\n          onSubmit={this.onSubmit}\r\n          errors={errors}\r\n        />\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\n\r\nconst InputField = ({\r\n  title,\r\n  type,\r\n  id,\r\n  placeholder,\r\n  name,\r\n  value,\r\n  error,\r\n  onChange,\r\n  onBlur\r\n}) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={id}>{title}</label>\r\n      <input\r\n        type={type}\r\n        className=\"form-control\"\r\n        id={id}\r\n        placeholder={placeholder}\r\n        name={name}\r\n        value={value}\r\n        onChange={onChange}\r\n        onBlur={onBlur}\r\n      />\r\n      {error && <div className=\"invalid-feedback\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputField;\r\n","import queryString from \"query-string\";\r\n\r\nexport const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"b1a938ee7f324798663cd0727c5783ee\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiMWE5MzhlZTdmMzI0Nzk4NjYzY2QwNzI3YzU3ODNlZSIsInN1YiI6IjVkNjNmMzQ1YmM4YWJjNjA1ZDI1MDY5ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0AmtMmTcqQ9lyLuhMfOXywHfhxLQ8NH110DBfcawH4c\";\r\n\r\nexport const fetchApi = (url, option = {}) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url, option)\r\n      .then(response => {\r\n        if (response.status < 400) {\r\n          return response.json();\r\n        } else {\r\n          throw response;\r\n        }\r\n      })\r\n      .then(data => {\r\n        resolve(data);\r\n      })\r\n      .catch(response => {\r\n        response.json().then(error => {\r\n          reject(error);\r\n        });\r\n      });\r\n  });\r\n};\r\n\r\nexport default class CallApi {\r\n  static get(url, options = {}) {\r\n    const { params = {} } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        }\r\n      }\r\n    );\r\n  }\r\n  static post(url, options = {}) {\r\n    const { params = {}, body } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          Accept: \"application/json\"\r\n        },\r\n        body: JSON.stringify(body)\r\n      }\r\n    );\r\n  }\r\n  static mark(url, options = {}) {\r\n    const { params = {}, body } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json;charset=utf-8\"\r\n        },\r\n        body: JSON.stringify(body)\r\n      }\r\n    );\r\n  }\r\n  static delete(url, options = {}) {\r\n    const { params = {} } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: \"DELETE\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { AppContext } from \"../App\";\r\n\r\nexport default Component =>\r\n  class AppContextHOC extends React.Component {\r\n    render() {\r\n      return (\r\n        <AppContext.Consumer>\r\n          {context => {\r\n            return <Component {...this.props} {...context} />;\r\n          }}\r\n        </AppContext.Consumer>\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport InputField from \"./InputField\";\r\nimport ModalLoginHOC from \"./ModalLoginHOC\";\r\nimport AppContextHOC from \"../../HOC/AppContextHOC\";\r\n\r\nconst ModalLogin = props => {\r\n  const {\r\n    userName,\r\n    password,\r\n    repeatPassword,\r\n    submitting,\r\n    errors,\r\n    onChange,\r\n    handleBlur,\r\n    onSubmit\r\n  } = props;\r\n  return (\r\n    <div className=\"form-login-container\">\r\n      <form className=\"form-login\">\r\n        <h1 className=\"h3 mb-3 font-weight-normal text-center\">Authorization</h1>\r\n        <InputField\r\n          title=\"User\"\r\n          type=\"text\"\r\n          id=\"username\"\r\n          placeholder=\"User\"\r\n          name=\"userName\"\r\n          value={userName}\r\n          error={errors.userName}\r\n          onChange={onChange}\r\n          onBlur={handleBlur}\r\n        />\r\n        <InputField\r\n          title=\"Password\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={password}\r\n          error={errors.password}\r\n          onChange={onChange}\r\n          onBlur={handleBlur}\r\n        />\r\n        <InputField\r\n          title=\"Repeat password\"\r\n          type=\"password\"\r\n          id=\"repeatPassword\"\r\n          placeholder=\"Repeat password\"\r\n          name=\"repeatPassword\"\r\n          value={repeatPassword}\r\n          error={errors.repeatPassword}\r\n          onChange={onChange}\r\n          onBlur={handleBlur}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-lg btn-primary btn-block\"\r\n          onClick={onSubmit}\r\n          disabled={submitting}\r\n        >\r\n          Login\r\n        </button>\r\n        {errors.base && (\r\n          <div className=\"invalid-feedback text-center\">{errors.base}</div>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nModalLogin.propTypes = {\r\n  userName: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired,\r\n  submitting: PropTypes.bool.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  handleBlur: PropTypes.func.isRequired,\r\n  onSubmit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AppContextHOC(ModalLoginHOC(ModalLogin));\r\n","import React from \"react\";\r\nimport { Modal, ModalBody } from \"reactstrap\";\r\nimport PropTypes from \"prop-types\";\r\nimport ModalLogin from \"./ModalLogin\";\r\nimport AppContextHOC from \"../../HOC/AppContextHOC\";\r\n\r\nconst Login = props => {\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-success\"\r\n        type=\"button\"\r\n        onClick={props.toggleModal}\r\n      >\r\n        Log In\r\n      </button>\r\n      <Modal isOpen={props.showModal} toggle={props.toggleModal}>\r\n        <ModalBody>\r\n          <ModalLogin />\r\n        </ModalBody>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  toggleModal: PropTypes.func.isRequired,\r\n  showModal: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default AppContextHOC(Login);\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Dropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from \"reactstrap\";\r\nimport PropTypes from \"prop-types\";\r\nimport AppContextHOC from \"../../HOC/AppContextHOC\";\r\n\r\nclass UserMenu extends Component {\r\n  state = {\r\n    dropdownOpen: false\r\n  };\r\n\r\n  toggleDropdown = () => {\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  };\r\n  render() {\r\n    const { user, onLogOut } = this.props;\r\n    return (\r\n      <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggleDropdown}>\r\n        <DropdownToggle\r\n          tag=\"div\"\r\n          onClick={this.toggleDropdown}\r\n          data-toggle=\"dropdown\"\r\n          aria-expanded={this.state.dropdownOpen}\r\n        >\r\n          <img\r\n            width=\"40\"\r\n            className=\"rounded-circle\"\r\n            src={`https://secure.gravatar.com/avatar/${user.avatar.gravatar.hash}.jpg?s=64\"`}\r\n            alt=\"avatar\"\r\n            onClick={this.toggleDropdown}\r\n          />\r\n        </DropdownToggle>\r\n        <DropdownMenu right>\r\n          <DropdownItem onClick={onLogOut}>Log out</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n\r\nUserMenu.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  onLogOut: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AppContextHOC(UserMenu);\r\n","import React, { Component } from \"react\";\r\nimport Login from \"./Login/Login\";\r\nimport UserMenu from \"./Login/UserMenu\";\r\n\r\nexport default class Header extends Component {\r\n  render() {\r\n    const { user } = this.props;\r\n    return (\r\n      <nav className=\"navbar navbar-dark bg-primary\">\r\n        <div className=\"container\">\r\n          <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item active\">\r\n              <a href=\"/\" className=\"nav-link\">\r\n                Home\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          {user ? <UserMenu /> : <Login />}\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nconst FilterItem = ({ filterItems }) => {\r\n  return filterItems.map(item => (\r\n    <option key={item.id} value={item.value}>\r\n      {item.title}\r\n    </option>\r\n  ));\r\n};\r\n\r\nexport default FilterItem;\r\n","import React from \"react\";\r\nimport FilterItem from \"./FilterItem\";\r\n\r\nconst FilterSelect = ({ name, id, value, filterName, handleSelect, filterItems }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={id}>Sort by {filterName}:</label>\r\n      <select\r\n        name={name}\r\n        className=\"form-control\"\r\n        id={id}\r\n        value={value}\r\n        onChange={handleSelect}\r\n      >\r\n        <FilterItem filterItems={filterItems} />\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterSelect;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport GenresHOC from \"./GenresHOC\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\n\r\nconst Genres = ({ addGenre, genres }) => {\r\n  return (\r\n    <div className=\"btn-group row\">\r\n      {genres.map(item => (\r\n        <label key={item.id} className=\"col-12\">\r\n          <input name={item.id} type=\"checkbox\" onChange={addGenre} />\r\n          {item.name}\r\n        </label>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nGenres.propTypes = {\r\n  addGenre: PropTypes.func.isRequired,\r\n  genres: PropTypes.array.isRequired\r\n};\r\n\r\nexport default AppContextHOC(GenresHOC(Genres));\r\n","import React from \"react\";\r\nimport { API_URL, API_KEY_3 } from \"../../api/api\";\r\n\r\nexport default Component =>\r\n  class GenresHOC extends React.Component {\r\n    state = {\r\n      genres: []\r\n    };\r\n\r\n    getGenres = () => {\r\n      const link = `${API_URL}/genre/movie/list?api_key=${API_KEY_3}&language=en-US`;\r\n      fetch(link)\r\n        .then(response => {\r\n          return response.json();\r\n        })\r\n        .then(data => {\r\n          this.setState({\r\n            genres: data.genres\r\n          });\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n      this.getGenres();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (\r\n        prevProps.filters.genre !== this.props.filters.genre &&\r\n        this.props.filters.genre === \"\"\r\n      ) {\r\n        this.setState(() => ({\r\n          ...this.state,\r\n          genres: []\r\n        }));\r\n        this.getGenres();\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { addGenre } = this.props;\r\n      return <Component genres={this.state.genres} addGenre={addGenre} />;\r\n    }\r\n  };\r\n","import React from \"react\";\r\n\r\nconst PageButtons = ({ page, total_pages, changePage }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"btn-group col-12\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          disabled={page === 1}\r\n          onClick={() => {\r\n            changePage(page - 1);\r\n          }}\r\n        >\r\n          Back\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          disabled={page >= total_pages}\r\n          onClick={() => {\r\n            changePage(page + 1);\r\n          }}\r\n        >\r\n          Forward\r\n        </button>\r\n      </div>\r\n      <p>\r\n        Current page: <strong>{page}</strong> from total pages:{\" \"}\r\n        <strong>{total_pages}</strong>\r\n      </p>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PageButtons;\r\n","import { getFilterYear } from \"../helpers/helpers\";\r\n\r\nconst START_YEAR = 2000;\r\nconst END_YEAR = 2030;\r\n\r\nexport const FILTER_YEARS = getFilterYear(START_YEAR, END_YEAR);","export function getFilterYear(startYear, endYear) {\r\n  const filterYear = [];\r\n\r\n  for (let i = startYear; i <= endYear; i++) {\r\n    filterYear.push({ id: i, title: i, value: i });\r\n  }\r\n\r\n  return filterYear;\r\n}","import React from \"react\";\r\nimport FilterSelect from \"./FilterSelect\";\r\nimport Genres from \"./Genres\";\r\nimport PageButtons from \"./PageButtons\";\r\nimport { FILTER_YEARS } from \"../../constants/filters\";\r\n\r\nexport default class Filters extends React.Component {\r\n\r\n  state = {\r\n    filterItems: [\r\n      { id: 1, title: \"Popular in descending order\", value: \"popularity.desc\" },\r\n      { id: 2, title: \"Popular ascending\", value: \"popularity.asc\" },\r\n      { id: 3, title: \"Rating in descending order\", value: \"vote_average.desc\" },\r\n      { id: 4, title: \"Rating ascending\", value: \"vote_average.asc\" }\r\n    ],\r\n    filterYear: FILTER_YEARS\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      filters,\r\n      filters: { sort_by, year },\r\n      page,\r\n      total_pages,\r\n      handleSelect,\r\n      changePage,\r\n      resetFilters,\r\n      addGenre\r\n    } = this.props;\r\n    const { filterItems, filterYear } = this.state;\r\n    return (\r\n      <form className=\"mb-3\">\r\n        <FilterSelect\r\n          name=\"sort_by\"\r\n          id=\"sort_by\"\r\n          value={sort_by}\r\n          filterName=\"order\"\r\n          handleSelect={handleSelect}\r\n          filterItems={filterItems}\r\n        />\r\n        <FilterSelect\r\n          name=\"year\"\r\n          id=\"year\"\r\n          value={year}\r\n          filterName=\"year\"\r\n          handleSelect={handleSelect}\r\n          filterItems={filterYear}\r\n        />\r\n        <PageButtons\r\n          page={page}\r\n          total_pages={total_pages}\r\n          changePage={changePage}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-secondary col-12\"\r\n          onClick={resetFilters}\r\n        >\r\n          Reset filters\r\n        </button>\r\n        <Genres filters={filters} addGenre={addGenre} />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MovieItemHOC from \"./MovieItemHOC\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\n\r\nconst MovieItem = props => {\r\n  const {\r\n    item,\r\n    favorite,\r\n    watchlist,\r\n    poster,\r\n    defaultPoster,\r\n    handleMark\r\n  } = props;\r\n  return (\r\n    <div className=\"card\" style={{ width: \"100%\" }}>\r\n      <img\r\n        className=\"card-img-top card-img--height\"\r\n        src={\r\n          poster ? `https://image.tmdb.org/t/p/w500${poster}` : defaultPoster\r\n        }\r\n        alt=\"poster\"\r\n      />\r\n      <div className=\"card-body\">\r\n        <Link to={`/movie/${item.id}/detail`} className=\"card-title\">\r\n          {item.title}\r\n        </Link>\r\n        <div className=\"card-text\">Rating: {item.vote_average}</div>\r\n        <div className=\"card-favorite-watchlist\">\r\n          <i className=\"material-icons\" name=\"favorite\" onClick={handleMark}>\r\n            {favorite ? \"star\" : \"star_border\"}\r\n          </i>\r\n          <i className=\"material-icons\" name=\"watchlist\" onClick={handleMark}>\r\n            {watchlist ? \"bookmark\" : \"bookmark_border\"}\r\n          </i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nMovieItem.propTypes = {\r\n  item: PropTypes.object.isRequired,\r\n  favorite: PropTypes.bool.isRequired,\r\n  watchlist: PropTypes.bool.isRequired,\r\n  poster: PropTypes.string,\r\n  defaultPoster: PropTypes.string.isRequired,\r\n  handleMark: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AppContextHOC(MovieItemHOC(MovieItem));\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\n\r\nexport default Component =>\r\n  class MoviesItemHOC extends React.Component {\r\n    state = {\r\n      favorite: false,\r\n      watchlist: false,\r\n      movie_id: \"\"\r\n    };\r\n\r\n    handleMark = e => {\r\n      const name = e.target.getAttribute(\"name\");\r\n      if (this.props.user) {\r\n        CallApi.mark(`/account/${this.props.user.id}/${name}`, {\r\n          params: {\r\n            session_id: this.props.session_id\r\n          },\r\n          body: {\r\n            media_type: \"movie\",\r\n            media_id: this.props.item.id,\r\n            [name]: !this.state[name]\r\n          }\r\n        })\r\n          .then(() => {\r\n            if (name === \"favorite\") {\r\n              this.props.getMovieFavorite(\r\n                this.props.user.id,\r\n                this.props.session_id\r\n              );\r\n            } else if (name === \"watchlist\") {\r\n              this.props.getMovieWatchlist(\r\n                this.props.user.id,\r\n                this.props.session_id\r\n              );\r\n            }\r\n          })\r\n          .then(() => {\r\n            this.setState(prevState => ({\r\n              ...this.prevState,\r\n              [name]: !prevState[name]\r\n            }));\r\n            this.checkMark(\"watchlist\", this.props.item.id);\r\n            this.checkMark(\"favorite\", this.props.item.id);\r\n          });\r\n      } else if (!this.props.user) {\r\n        this.props.toggleModal();\r\n      }\r\n    };\r\n\r\n    checkMark = (targetName, movieId) => {\r\n      this.props[targetName].results.forEach(itemResults => {\r\n        if (movieId === itemResults.id) {\r\n          this.setState(prevState => ({\r\n            ...prevState,\r\n            [targetName]: true\r\n          }));\r\n        }\r\n      });\r\n    };\r\n\r\n    componentDidMount() {\r\n      if (this.props.user) {\r\n        this.checkMark(\"watchlist\", this.props.item.id);\r\n      }\r\n      if (this.props.user) {\r\n        this.checkMark(\"favorite\", this.props.item.id);\r\n      }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (this.props.user) {\r\n        if (prevProps.watchlist !== this.props.watchlist) {\r\n          this.checkMark(\"watchlist\", this.props.item.id);\r\n        }\r\n        if (prevProps.favorite !== this.props.favorite) {\r\n          this.checkMark(\"favorite\", this.props.item.id);\r\n        }\r\n      }\r\n      if (\r\n        this.props.user &&\r\n        (prevProps.filters !== this.props.filters ||\r\n          prevProps.page !== this.props.page)\r\n      ) {\r\n        this.checkMark(\"watchlist\", this.props.item.id);\r\n        this.checkMark(\"favorite\", this.props.item.id);\r\n      }\r\n      if (prevProps.user && this.props.user === null) {\r\n        this.setState({\r\n          ...this.state,\r\n          favorite: false,\r\n          watchlist: false\r\n        });\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { item } = this.props;\r\n      const { favorite, watchlist } = this.state;\r\n      const poster = item.backdrop_path || item.poster_path;\r\n      const defaultPoster = \"./images/default-movie-poster.jpg\";\r\n\r\n      return (\r\n        <Component\r\n          item={item}\r\n          favorite={favorite}\r\n          watchlist={watchlist}\r\n          poster={poster}\r\n          defaultPoster={defaultPoster}\r\n          handleMark={this.handleMark}\r\n        />\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport MoviesHOC from \"./MoviesHOC\";\r\n\r\nconst MoviesList = ({\r\n  filters,\r\n  movies,\r\n  getMovieFavorite,\r\n  getMovieWatchlist\r\n}) => {\r\n  return (\r\n    <div className=\"row\">\r\n      {movies.map(movie => {\r\n        return (\r\n          <div key={movie.id} className=\"col-6 mb-4\">\r\n            <MovieItem\r\n              item={movie}\r\n              filters={filters}\r\n              getMovieFavorite={getMovieFavorite}\r\n              getMovieWatchlist={getMovieWatchlist}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nMoviesList.defaulProps = {\r\n  movies: []\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.array.isRequired\r\n};\r\n\r\nexport default MoviesHOC(MoviesList);\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\n\r\nexport default Component =>\r\n  class MoviesHOC extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        movies: []\r\n      };\r\n    }\r\n\r\n    changedSortBy = (filter, page = 1, currentTotalPages) => {\r\n      const { sort_by, year, genre = \"\" } = filter;\r\n      const queryStringParams = {\r\n        language: \"en-US\",\r\n        sort_by: sort_by,\r\n        page: page,\r\n        primary_release_year: year,\r\n        with_genres: genre\r\n      };\r\n      CallApi.get(\"/discover/movie\", { params: queryStringParams }).then(\r\n        data => {\r\n          currentTotalPages(data.total_pages);\r\n          this.setState({\r\n            movies: data.results\r\n          });\r\n        }\r\n      );\r\n    };\r\n\r\n    componentDidMount() {\r\n      this.changedSortBy(\r\n        this.props.filters,\r\n        this.props.page,\r\n        this.props.currentTotalPages\r\n      );\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (\r\n        prevProps.filters.sort_by !== this.props.filters.sort_by ||\r\n        prevProps.filters.genre !== this.props.filters.genre ||\r\n        prevProps.page !== this.props.page ||\r\n        prevProps.filters.year !== this.props.filters.year\r\n      ) {\r\n        this.changedSortBy(\r\n          this.props.filters,\r\n          this.props.page,\r\n          this.props.currentTotalPages\r\n        );\r\n        if (this.props.user && this.props.session_id) {\r\n          this.props.getMovieWatchlist(\r\n            this.props.user.id,\r\n            this.props.session_id\r\n          );\r\n          this.props.getMovieFavorite(\r\n            this.props.user.id,\r\n            this.props.session_id\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { movies } = this.state;\r\n      const {\r\n        filters,\r\n        favorite,\r\n        watchlist,\r\n        getMovieWatchlist,\r\n        getMovieFavorite\r\n      } = this.props;\r\n      return (\r\n        <Component\r\n          filters={filters}\r\n          movies={movies}\r\n          favorite={favorite}\r\n          watchlist={watchlist}\r\n          getMovieWatchlist={getMovieWatchlist}\r\n          getMovieFavorite={getMovieFavorite}\r\n        />\r\n      );\r\n    }\r\n  };\r\n","import React, { Component } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport Filters from \"../../Filters/Filters\";\r\nimport MoviesList from \"../../Movies/MoviesList\";\r\nimport AppContextHOC from \"../../HOC/AppContextHOC\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nclass MoviesPage extends Component {\r\n  componentDidMount() {\r\n    const session_id = cookies.get(\"session_id\");\r\n    if (session_id) {\r\n      const user_id = cookies.get(\"user_id\");\r\n      if (user_id && session_id) {\r\n        this.props.getMovieFavorite(user_id, session_id);\r\n        this.props.getMovieWatchlist(user_id, session_id);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.user !== this.props.user &&\r\n      this.props.user &&\r\n      this.props.user !== null\r\n    ) {\r\n      this.props.getMovieFavorite(this.props.user.id, this.props.session_id);\r\n      this.props.getMovieWatchlist(this.props.user.id, this.props.session_id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { filters, page, total_pages, favorite, watchlist } = this.props;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-4\">\r\n            <div className=\"card\" style={{ width: \"100%\" }}>\r\n              <div className=\"card-body\">\r\n                <h3>Filters:</h3>\r\n                <Filters\r\n                  filters={filters}\r\n                  favorite={favorite}\r\n                  watchlist={watchlist}\r\n                  handleSelect={this.props.handleSelect}\r\n                  page={page}\r\n                  total_pages={total_pages}\r\n                  changePage={this.props.changePage}\r\n                  resetFilters={this.props.resetFilters}\r\n                  addGenre={this.props.addGenre}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-8\">\r\n            <MoviesList\r\n              filters={filters}\r\n              page={page}\r\n              total_pages={total_pages}\r\n              currentTotalPages={this.props.currentTotalPages}\r\n              favorite={favorite}\r\n              watchlist={watchlist}\r\n              getMovieFavorite={this.props.getMovieFavorite}\r\n              getMovieWatchlist={this.props.getMovieWatchlist}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppContextHOC(MoviesPage);\r\n","import React from \"react\";\r\n\r\nconst Actor = ({ actor }) => {\r\n  const image = actor.profile_path\r\n    ? `https://image.tmdb.org/t/p/w500${actor.profile_path}`\r\n    : `../../images/default-avatar.png`;\r\n  return (\r\n    <img className=\"col-2\" src={image} alt={actor.name} title={actor.name} />\r\n  );\r\n};\r\n\r\nexport default Actor;\r\n","import React from \"react\";\r\n\r\nimport \"./Spinner.css\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"lds-css ng-scope\">\r\n      <div className=\"lds-double-ring\">\r\n        <div></div>\r\n        <div></div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { Component } from \"react\";\r\nimport Actor from \"./Actor\";\r\nimport Snippet from \"../Spinner/Spinner\";\r\nimport CallApi from \"../../../../api/api\";\r\n\r\nexport default class Credits extends Component {\r\n  state = {\r\n    actors: [],\r\n    loaded: true\r\n  };\r\n\r\n  getActors = data => {\r\n    this.setState({\r\n      actors: data.cast, //[].concat(...data.cast)\r\n      loaded: false\r\n    });\r\n  };\r\n\r\n  updateActors = () => {\r\n    CallApi.get(`/movie/${this.props.match.params.id}/credits`, {\r\n      params: { language: \"en-US\" }\r\n    }).then(this.getActors);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateActors();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.activeTab !== this.props.activeTab &&\r\n      this.props.activeTab === \"3\"\r\n    ) {\r\n      this.updateActors();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { actors, loaded } = this.state;\r\n    const snippet = loaded ? <Snippet /> : null;\r\n    const actorsList = !loaded ? <ListActors actors={actors} /> : null;\r\n    return (\r\n      <div>\r\n        {snippet}\r\n        {actorsList}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ListActors = ({ actors }) => {\r\n  return (\r\n    <div>\r\n      {actors.map(item => {\r\n        return <Actor key={item.cast_id} actor={item} />;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Snippet from \"../Spinner/Spinner\";\r\nimport CallApi from \"../../../../api/api\";\r\n\r\nexport default class Video extends Component {\r\n  state = {\r\n    video: [],\r\n    loaded: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateVideo();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.activeTab !== this.props.activeTab &&\r\n      this.props.activeTab === \"2\"\r\n    ) {\r\n      this.updateVideo();\r\n    }\r\n  }\r\n\r\n  getVideo = data => {\r\n    this.setState(() => ({\r\n      video: data.results,\r\n      loaded: false\r\n    }));\r\n  };\r\n\r\n  updateVideo = () => {\r\n    CallApi.get(`/movie/${this.props.match.params.id}/videos`, {\r\n      params: { language: \"en-US\" }\r\n    }).then(data => {\r\n      this.getVideo(data);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { video, loaded } = this.state;\r\n    const snippet = loaded ? <Snippet /> : null;\r\n    const videoList = !loaded ? <ViewVideo data={video} /> : null;\r\n    return (\r\n      <div>\r\n        {snippet}\r\n        {videoList}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ViewVideo = ({ data }) => {\r\n  return data.map(item => {\r\n    return (\r\n      <div key={item.id}>\r\n        <h6>{item.name}</h6>\r\n        <iframe\r\n          title={item.id}\r\n          width=\"720\"\r\n          height=\"480\"\r\n          src={`https://www.youtube.com/embed/${item.key}`}\r\n        ></iframe>\r\n      </div>\r\n    );\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { Col, Table } from \"reactstrap\";\r\n\r\nconst DetailTable = ({ details }) => {\r\n  return (\r\n    <Col>\r\n      <Col className=\"mt-4\">\r\n        <Table>\r\n          <tbody>\r\n            <tr>\r\n              <th scope=\"row\">Status:</th>\r\n              <td>{details.status}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Release date:</th>\r\n              <td>{details.release_date}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Duration:</th>\r\n              <td>{details.runtime} min</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Original language:</th>\r\n              <td>{details.original_language}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Country:</th>\r\n              <td>\r\n                {details.production_countries\r\n                  ? details.production_countries.map(item => {\r\n                    return item.name;\r\n                  })\r\n                  : null}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Budget:</th>\r\n              <td>{details.budget}$</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Fees:</th>\r\n              <td>{details.revenue}$</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Company:</th>\r\n              <td>\r\n                {details.production_companies\r\n                  ? details.production_companies.map(item => {\r\n                    return item.name + \", \";\r\n                  })\r\n                  : null}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Genres:</th>\r\n              <td>\r\n                {details.genres\r\n                  ? details.genres.map(item => {\r\n                    return item.name + \" \";\r\n                  })\r\n                  : null}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </Table>\r\n      </Col>\r\n    </Col>\r\n  );\r\n};\r\n\r\nexport default DetailTable;\r\n","import React, { Component } from \"react\";\r\nimport DetailTable from \"./DetailTable\";\r\nimport Snippet from \"../Spinner/Spinner\";\r\nimport CallApi from \"../../../../api/api\";\r\n\r\nexport default class Detail extends Component {\r\n  state = {\r\n    details: [],\r\n    loaded: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateDetails();\r\n  }\r\n\r\n  getDetails = data => {\r\n    this.setState(() => ({\r\n      details: data,\r\n      loaded: false\r\n    }));\r\n  };\r\n\r\n  updateDetails = () => {\r\n    CallApi.get(`/movie/${this.props.match.params.id}`, {\r\n      params: { language: \"en-US\" }\r\n    }).then(data => {\r\n      this.getDetails(data);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { details, loaded } = this.state;\r\n    const snippet = loaded ? <Snippet /> : null;\r\n    const detailsList = !loaded ? <DetailTable details={details} /> : null;\r\n    return (\r\n      <div>\r\n        {snippet}\r\n        {detailsList}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nconst NoMatch = () => {\r\n  return (\r\n    <div>\r\n      <h1>Sorry. This page doesn't exist</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoMatch;\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Nav, NavItem } from \"reactstrap\";\r\nimport classnames from \"classnames\";\r\nimport Credits from \"./MovieCredits/MovieCredits\";\r\nimport Video from \"./MovieVideos/MovieVideos\";\r\nimport Detail from \"./MovieDetail/MovieDetail\";\r\nimport NoMatch from \"./NoMatch/NoMatch\";\r\n\r\nexport default class MovieTabs extends Component {\r\n  state = {\r\n    activeTab: \"1\"\r\n  };\r\n\r\n  toggle = tab => {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { movie, activeTab } = this.props;\r\n    return (\r\n      <div>\r\n        <Nav tabs>\r\n          <NavItem>\r\n            <NavLink\r\n              to={`/movie/${movie.id}/detail`}\r\n              className={classnames(\"nav-link\", { active: activeTab === \"1\" })}\r\n              onClick={() => {\r\n                this.toggle(\"1\");\r\n              }}\r\n            >\r\n              Details\r\n            </NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink\r\n              to={`/movie/${movie.id}/videos`}\r\n              className={classnames(\"nav-link\", { active: activeTab === \"2\" })}\r\n              onClick={() => {\r\n                this.toggle(\"2\");\r\n              }}\r\n            >\r\n              Video\r\n            </NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink\r\n              to={`/movie/${movie.id}/credits`}\r\n              className={classnames(\"nav-link\", { active: activeTab === \"3\" })}\r\n              onClick={() => {\r\n                this.toggle(\"3\");\r\n              }}\r\n            >\r\n              Actors\r\n            </NavLink>\r\n          </NavItem>\r\n        </Nav>\r\n        <Switch>\r\n          <Route path=\"/movie/:id/detail\" component={Detail} />\r\n          <Route path=\"/movie/:id/videos\" component={Video} />\r\n          <Route path=\"/movie/:id/credits\" component={Credits} />\r\n          <Route component={NoMatch} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport MovieTabs from \"./MovieTabs\";\r\nimport CallApi from \"../../../api/api\";\r\nimport AppContext from \"../../HOC/AppContextHOC\";\r\n\r\nclass MoviePage extends Component {\r\n  state = {\r\n    movie: [],\r\n    favorite: false,\r\n    watchlist: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    CallApi.get(`/movie/${this.props.match.params.id}`, {\r\n      params: { language: \"en-US\" }\r\n    }).then(data => {\r\n      this.setState({\r\n        ...this.state,\r\n        movie: data\r\n      });\r\n    });\r\n    if (this.props.user) {\r\n      this.checkMark(\"watchlist\", this.props.match.params.id);\r\n      this.checkMark(\"favorite\", this.props.match.params.id);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.user !== this.props.user &&\r\n      !this.props.user &&\r\n      this.props.user !== null\r\n    ) {\r\n      this.props.getMovieFavorite(this.props.user.id, this.props.session_id);\r\n      this.props.getMovieWatchlist(this.props.user.id, this.props.session_id);\r\n    }\r\n    if (this.props.user) {\r\n      if (prevProps.watchlist !== this.props.watchlist) {\r\n        this.checkMark(\"watchlist\", this.props.match.params.id);\r\n      }\r\n      if (prevProps.favorite !== this.props.favorite) {\r\n        this.checkMark(\"favorite\", this.props.match.params.id);\r\n      }\r\n    }\r\n    if (prevProps.user && this.props.user === null) {\r\n      this.setState({\r\n        ...this.state,\r\n        favorite: false,\r\n        watchlist: false\r\n      });\r\n    }\r\n  }\r\n\r\n  handleMark = e => {\r\n    const name = e.target.getAttribute(\"name\");\r\n    if (this.props.user) {\r\n      CallApi.mark(`/account/${this.props.user.id}/${name}`, {\r\n        params: {\r\n          session_id: this.props.session_id\r\n        },\r\n        body: {\r\n          media_type: \"movie\",\r\n          media_id: this.props.match.params.id,\r\n          [name]: !this.state[name]\r\n        }\r\n      })\r\n        .then(() => {\r\n          if (name === \"favorite\") {\r\n            this.props.getMovieFavorite(\r\n              this.props.user.id,\r\n              this.props.session_id\r\n            );\r\n          } else if (name === \"watchlist\") {\r\n            this.props.getMovieWatchlist(\r\n              this.props.user.id,\r\n              this.props.session_id\r\n            );\r\n          }\r\n        })\r\n        .then(() => {\r\n          this.setState(prevState => ({\r\n            // ...prevState,\r\n            [name]: !prevState[name]\r\n          }));\r\n        });\r\n    } else if (!this.props.user) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  checkMark = (targetName, movieId) => {\r\n    this.props[targetName].results.forEach(itemResults => {\r\n      if (+movieId === itemResults.id) {\r\n        this.setState({\r\n          // ...this.state,\r\n          [targetName]: true\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      movie: {\r\n        title,\r\n        original_title,\r\n        backdrop_path,\r\n        poster_path,\r\n        overview,\r\n        vote_average,\r\n        release_date\r\n      },\r\n      favorite,\r\n      watchlist\r\n    } = this.state;\r\n    const poster = backdrop_path || poster_path;\r\n    const defaultPoster = \"../../images/default-movie-poster.jpg\";\r\n    return (\r\n      <div>\r\n        <div className=\"\">\r\n          <img\r\n            src={\r\n              poster\r\n                ? `https://image.tmdb.org/t/p/w500${poster}`\r\n                : defaultPoster\r\n            }\r\n            alt=\"poster\"\r\n          />\r\n          <div>\r\n            <h4>\r\n              {title} ({original_title}){\" \"}\r\n              <span>{release_date ? release_date.substring(0, 4) : \"\"}</span>\r\n            </h4>\r\n            <div>\r\n              <div>{vote_average}</div>\r\n              <div className=\"card-favorite-watchlist\">\r\n                <i\r\n                  className=\"material-icons\"\r\n                  name=\"favorite\"\r\n                  onClick={this.handleMark}\r\n                >\r\n                  {favorite ? \"star\" : \"star_border\"}\r\n                </i>\r\n                <i\r\n                  className=\"material-icons\"\r\n                  name=\"watchlist\"\r\n                  onClick={this.handleMark}\r\n                >\r\n                  {watchlist ? \"bookmark\" : \"bookmark_border\"}\r\n                </i>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p>{overview}</p>\r\n              <p></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <MovieTabs movie={this.state.movie} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppContext(MoviePage);\r\n","import React, { Component } from \"react\";\r\nimport { HashRouter as Router, Route } from \"react-router-dom\";\r\nimport Cookies from \"universal-cookie\";\r\nimport Header from \"./Header/Header\";\r\nimport MoviesPage from \"./Pages/MoviesPage/MoviesPage\";\r\nimport MoviePage from \"./Pages/MoviePage/MoviePage\";\r\nimport CallApi from \"../api/api\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nexport const AppContext = React.createContext();\r\n\r\nconst initialState = {\r\n  filters: {\r\n    sort_by: \"popularity.desc\",\r\n    year: 2024,\r\n    genre: \"\"\r\n  },\r\n  page: 1\r\n};\r\nexport default class App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      ...initialState,\r\n      user: null,\r\n      session_id: null,\r\n      total_pages: \"\",\r\n      showModal: false,\r\n      watchlist: [],\r\n      favorite: []\r\n    };\r\n  }\r\n\r\n  updateUser = user => {\r\n    this.updateUserId(user.id);\r\n    this.setState({\r\n      ...this.state,\r\n      user\r\n    });\r\n  };\r\n\r\n  updateSessionId = session_id => {\r\n    cookies.set(\"session_id\", session_id, {\r\n      path: \"/\",\r\n      maxAge: 259200\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      session_id\r\n    });\r\n  };\r\n\r\n  updateUserId = user_id => {\r\n    cookies.set(\"user_id\", user_id, {\r\n      path: \"/\",\r\n      maxAge: 259200\r\n    });\r\n  };\r\n\r\n  onLogOut = () => {\r\n    CallApi.delete(\"/authentication/session\", {\r\n      params: { session_id: this.state.session_id }\r\n    });\r\n    cookies.remove(\"session_id\");\r\n    cookies.remove(\"user_id\");\r\n    this.setState({\r\n      ...this.state,\r\n      user: null,\r\n      session_id: null,\r\n      watchlist: [],\r\n      favorite: []\r\n    });\r\n  };\r\n\r\n  handleSelect = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      filters: {\r\n        ...prevState.filters,\r\n        [name]: value\r\n      },\r\n      page: 1\r\n    }));\r\n  };\r\n\r\n  changePage = page => {\r\n    this.setState({\r\n      ...this.state,\r\n      page\r\n    });\r\n  };\r\n\r\n  currentTotalPages = e => {\r\n    this.setState({\r\n      ...this.state,\r\n      total_pages: e\r\n    });\r\n  };\r\n\r\n  resetFilters = e => {\r\n    this.setState({\r\n      ...initialState\r\n    });\r\n  };\r\n\r\n  toggleGenre = (array, item) => {\r\n    const index = array.findIndex(el => el === item);\r\n    const newArr = [...array.slice(0, index), ...array.slice(index + 1)];\r\n\r\n    return newArr;\r\n  };\r\n\r\n  addGenre = e => {\r\n    const id = e.target.name;\r\n    let arr = [...this.state.filters.genre];\r\n    if (this.state.filters.genre.includes(id)) {\r\n      arr = this.toggleGenre(arr, id);\r\n    } else {\r\n      arr = [...arr, id];\r\n    }\r\n    this.setState(() => ({\r\n      ...this.state,\r\n      page: 1,\r\n      filters: {\r\n        ...this.state.filters,\r\n        genre: arr\r\n      }\r\n    }));\r\n  };\r\n\r\n  getMovieWatchlist = (user_id, session_id) => {\r\n    CallApi.get(`/account/${user_id}/watchlist/movies`, {\r\n      params: { session_id: session_id, language: \"en-US\" }\r\n    }).then(watchlist => {\r\n      this.setState({\r\n        ...this.state,\r\n        watchlist: watchlist\r\n      });\r\n    });\r\n  };\r\n\r\n  getMovieFavorite = (user_id, session_id) => {\r\n    CallApi.get(`/account/${user_id}/favorite/movies`, {\r\n      params: { session_id: session_id, language: \"en-US\" }\r\n    }).then(favorite => {\r\n      this.setState({\r\n        ...this.state,\r\n        favorite: favorite\r\n      });\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(prevState => ({\r\n      ...this.state,\r\n      showModal: !prevState.showModal\r\n    }));\r\n  };\r\n\r\n  componentDidMount() {\r\n    const session_id = cookies.get(\"session_id\");\r\n    if (session_id) {\r\n      CallApi.get(\"/account\", { params: { session_id: session_id } }).then(\r\n        user => {\r\n          this.updateUser(user);\r\n        }\r\n      );\r\n      this.setState({\r\n        ...this.state,\r\n        session_id\r\n      });\r\n      const user_id = cookies.get(\"user_id\");\r\n      if (user_id && session_id) {\r\n        this.getMovieFavorite(user_id, session_id);\r\n        this.getMovieWatchlist(user_id, session_id);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      filters,\r\n      user,\r\n      page,\r\n      total_pages,\r\n      session_id,\r\n      showModal,\r\n      watchlist,\r\n      favorite\r\n    } = this.state;\r\n    return (\r\n      <Router>\r\n        <AppContext.Provider\r\n          value={{\r\n            filters: filters,\r\n            user: user,\r\n            session_id: session_id,\r\n            showModal: showModal,\r\n            watchlist: watchlist,\r\n            favorite: favorite,\r\n            page: page,\r\n            total_pages: total_pages,\r\n            onLogOut: this.onLogOut,\r\n            updateUser: this.updateUser,\r\n            updateSessionId: this.updateSessionId,\r\n            getMovieFavorite: this.getMovieFavorite,\r\n            getMovieWatchlist: this.getMovieWatchlist,\r\n            toggleModal: this.toggleModal,\r\n            handleSelect: this.handleSelect,\r\n            changePage: this.changePage,\r\n            resetFilters: this.resetFilters,\r\n            addGenre: this.addGenre,\r\n            currentTotalPages: this.currentTotalPages\r\n          }}\r\n        >\r\n          <div className=\"container\">\r\n            <Header user={user} />\r\n            <Route path=\"/\" exact component={MoviesPage} />\r\n            <Route path=\"/movie/:id\" component={MoviePage} />\r\n          </div>\r\n        </AppContext.Provider>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"./stylesheets/index.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}